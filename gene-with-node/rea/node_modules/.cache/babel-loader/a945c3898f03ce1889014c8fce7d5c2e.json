{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.default = function (Component) {\n  var FormInput = _react2.default.createClass({\n    displayName: 'FormInput',\n    propTypes: {\n      name: _react2.default.PropTypes.string.isRequired\n    },\n    contextTypes: {\n      form: _react2.default.PropTypes.object\n    },\n    componentDidMount: function componentDidMount() {\n      if (!this.refs.input.getValue) {\n        console.warn(\"A form component must provide a getValue method that \" + \"provides the value for the value for the component\");\n      }\n\n      this.context.form.registerInput(this.props.name, this);\n    },\n    componentWillUnmount: function componentWillUnmount() {\n      this.context.form.unregisterInput(this.props.name, this);\n    },\n\n    /**\n     * This is the method called by the form to get the value.\n     * It is allowed for the getValue method to return a promise. Make\n     * sure the getValue method is provided in the component\n     */\n    getValue: function getValue() {\n      var v = this.refs.input.getValue();\n\n      if (v instanceof Promise) {\n        return v;\n      } else {\n        return new Promise(function (resolve) {\n          return resolve(v);\n        });\n      }\n    },\n    validate: function validate(value) {\n      var v = this.refs.input.validate(value);\n\n      if (v instanceof Promise) {\n        return v;\n      } else {\n        return new Promise(function (resolve) {\n          return resolve(v);\n        });\n      }\n    },\n    _onChange: function _onChange(e) {\n      var _this = this;\n\n      var name = this.props.name;\n      this.getValue().then(function (value) {\n        _this.validate(value).then(function (value) {\n          _this.context.form.clearError(name);\n        }).catch(function (err) {\n          if (err instanceof _ValidationError2.default) {\n            _this.context.form.setError(err.name, err.message);\n          } else {\n            console.error(\"Unknown error\", err);\n\n            _this.context.form.setError(name, err.toString());\n          }\n        });\n      }).catch(function (err) {\n        if (err instanceof _ValidationError2.default) {\n          _this.context.form.setError(err.name, err.message);\n        } else {\n          console.error(\"Unknown error\", err);\n\n          _this.context.form.setError(name, err.toString());\n        }\n      });\n\n      if (this.props.onChange) {\n        this.props.onChange(e);\n      }\n    },\n    render: function render() {\n      /* get the default value and provide it to the underlying component */\n      var defaultValue = this.context.form.getDefaultValue(this.props.name);\n      var error = this.context.form.getError(this.props.name);\n      /* Override the defaultValue prop if its provided */\n\n      return _react2.default.createElement(Component, _extends({\n        ref: 'input'\n      }, this.props, {\n        defaultValue: defaultValue,\n        onChange: this._onChange,\n        error: error\n      }));\n    }\n  });\n\n  return FormInput;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ValidationError = require('./ValidationError');\n\nvar _ValidationError2 = _interopRequireDefault(_ValidationError);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}","map":{"version":3,"sources":["C:/xampp/htdocs/Laravel-React/rea/node_modules/react-bootstrap-form/lib/connectInput.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","default","Component","FormInput","_react2","createClass","displayName","propTypes","name","PropTypes","string","isRequired","contextTypes","form","object","componentDidMount","refs","input","getValue","console","warn","context","registerInput","props","componentWillUnmount","unregisterInput","v","Promise","resolve","validate","_onChange","e","_this","then","clearError","catch","err","_ValidationError2","setError","message","error","toString","onChange","render","defaultValue","getDefaultValue","getError","createElement","ref","_react","require","_interopRequireDefault","_ValidationError","obj","__esModule"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = function (Component) {\n  var FormInput = _react2.default.createClass({\n    displayName: 'FormInput',\n\n    propTypes: {\n      name: _react2.default.PropTypes.string.isRequired\n    },\n\n    contextTypes: {\n      form: _react2.default.PropTypes.object\n    },\n\n    componentDidMount: function componentDidMount() {\n      if (!this.refs.input.getValue) {\n        console.warn(\"A form component must provide a getValue method that \" + \"provides the value for the value for the component\");\n      }\n\n      this.context.form.registerInput(this.props.name, this);\n    },\n    componentWillUnmount: function componentWillUnmount() {\n      this.context.form.unregisterInput(this.props.name, this);\n    },\n\n\n    /**\n     * This is the method called by the form to get the value.\n     * It is allowed for the getValue method to return a promise. Make\n     * sure the getValue method is provided in the component\n     */\n    getValue: function getValue() {\n      var v = this.refs.input.getValue();\n      if (v instanceof Promise) {\n        return v;\n      } else {\n        return new Promise(function (resolve) {\n          return resolve(v);\n        });\n      }\n    },\n    validate: function validate(value) {\n      var v = this.refs.input.validate(value);\n      if (v instanceof Promise) {\n        return v;\n      } else {\n        return new Promise(function (resolve) {\n          return resolve(v);\n        });\n      }\n    },\n    _onChange: function _onChange(e) {\n      var _this = this;\n\n      var name = this.props.name;\n\n\n      this.getValue().then(function (value) {\n        _this.validate(value).then(function (value) {\n          _this.context.form.clearError(name);\n        }).catch(function (err) {\n          if (err instanceof _ValidationError2.default) {\n            _this.context.form.setError(err.name, err.message);\n          } else {\n            console.error(\"Unknown error\", err);\n            _this.context.form.setError(name, err.toString());\n          }\n        });\n      }).catch(function (err) {\n        if (err instanceof _ValidationError2.default) {\n          _this.context.form.setError(err.name, err.message);\n        } else {\n          console.error(\"Unknown error\", err);\n          _this.context.form.setError(name, err.toString());\n        }\n      });\n\n      if (this.props.onChange) {\n        this.props.onChange(e);\n      }\n    },\n    render: function render() {\n      /* get the default value and provide it to the underlying component */\n      var defaultValue = this.context.form.getDefaultValue(this.props.name);\n      var error = this.context.form.getError(this.props.name);\n\n      /* Override the defaultValue prop if its provided */\n      return _react2.default.createElement(Component, _extends({ ref: 'input' }, this.props, { defaultValue: defaultValue, onChange: this._onChange, error: error }));\n    }\n  });\n\n  return FormInput;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _ValidationError = require('./ValidationError');\n\nvar _ValidationError2 = _interopRequireDefault(_ValidationError);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }"]},"metadata":{},"sourceType":"script"}